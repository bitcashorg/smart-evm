{"version":3,"file":"evm-client.js","sourceRoot":"/","sources":["lib/evm-client.ts"],"names":[],"mappings":";;;AAAA,+BAAiF;AACjF,wCAAqC;AACrC,sCAAkC;AAClC,iDAA6C;AAEhC,QAAA,MAAM,GAAiB,IAAA,yBAAkB,EAAC;IACrD,KAAK,EAAE,6BAAa;IACpB,SAAS,EAAE,IAAA,WAAI,GAAE;CAClB,CAAC,CAAA;AAEW,QAAA,YAAY,GAAG,IAAA,yBAAkB,EAAC;IAC7C,KAAK,EAAE,6BAAa;IACpB,SAAS,EAAE,IAAA,WAAI,GAAE;IACjB,GAAG,EAAE,eAAM,CAAC,GAAG,CAAC,SAAS;IACzB,OAAO,EAAE,eAAM,CAAC,GAAG,CAAC,aAAa;CAClC,CAAC,CAAA;AAEW,QAAA,aAAa,GAAiB,IAAA,yBAAkB,EAAC;IAC5D,KAAK,EAAE;QACL,GAAG,gBAAO;QACV,OAAO,EAAE;YACP,OAAO,EAAE;gBACP,IAAI,EAAE,CAAC,eAAM,CAAC,GAAG,CAAC,UAAU,CAAC;aAC9B;SACF;KACF;IACD,SAAS,EAAE,IAAA,WAAI,GAAE;CAClB,CAAC,CAAA;AAEK,KAAK,UAAU,qBAAqB;IACzC,IAAI,CAAC;QACH,MAAM,WAAW,GAAG,MAAM,cAAM,CAAC,cAAc,EAAE,CAAA;QACjD,OAAO,WAAW,CAAA;IACpB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAA;QAC7D,MAAM,KAAK,CAAA,CAAC,0CAA0C;IACxD,CAAC;AACH,CAAC;AARD,sDAQC","sourcesContent":["import { http, createPublicClient, PublicClient, createWalletClient } from 'viem'\nimport { sepolia } from 'viem/chains'\nimport { appenv } from '../config'\nimport { eosEvmTestnet } from 'smartsale-env'\n\nexport const client: PublicClient = createPublicClient({\n  chain: eosEvmTestnet,\n  transport: http(),\n})\n\nexport const walletClient = createWalletClient({\n  chain: eosEvmTestnet,\n  transport: http(),\n  key: appenv.evm.issuerKey,\n  account: appenv.evm.issuerAccount,\n})\n\nexport const sepoliaClient: PublicClient = createPublicClient({\n  chain: {\n    ...sepolia,\n    rpcUrls: {\n      default: {\n        http: [appenv.evm.sepoliaApi],\n      },\n    },\n  },\n  transport: http(),\n})\n\nexport async function getCurrentBlockHeight() {\n  try {\n    const blockNumber = await client.getBlockNumber()\n    return blockNumber\n  } catch (error) {\n    console.error('Failed to fetch current block height:', error)\n    throw error // Rethrow the error for handling upstream\n  }\n}\n"]}