{"version":3,"file":"healthcheck.js","sourceRoot":"/","sources":["routes/healthcheck.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA6B;AAC7B,kDAAyD;AAEzD,SAAgB,YAAY;IAC1B,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAA;IACrB,MAAM,IAAI,GAAG,IAAI,CAAA;IAEjB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE;QAC/B,IAAI,CAAC;YACH,wCAAwC;YACxC,MAAM,WAAW,GAAG,MAAM,IAAA,kCAAqB,GAAE,CAAA;YACjD,GAAG,CAAC,IAAI,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAA;QAClD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAA;QAC9D,CAAC;IACH,CAAC,CAAC,CAAA;IAEF,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;QACpB,OAAO,CAAC,GAAG,CAAC,sCAAsC,IAAI,EAAE,CAAC,CAAA;IAC3D,CAAC,CAAC,CAAA;AACJ,CAAC;AAjBD,oCAiBC","sourcesContent":["import express from 'express'\nimport { getCurrentBlockHeight } from '../lib/evm-client'\n\nexport function startExpress() {\n  const app = express()\n  const port = 8080\n\n  app.get('/', async (_req, res) => {\n    try {\n      // TODO: respond with last indexed block\n      const blockHeight = await getCurrentBlockHeight()\n      res.send(`Current Block Height: ${blockHeight}`)\n    } catch (error) {\n      res.status(500).send('Failed to fetch current block height')\n    }\n  })\n\n  app.listen(port, () => {\n    console.log(`Server running at http://localhost:${port}`)\n  })\n}\n"]}